<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kits Criados - Agendamento</title>
    <link rel="stylesheet" href="../CSS/professor.css">
    <link rel="stylesheet" href="../CSS/criar_kit.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>

    <section class="govsp-topo">
        <div class="govsp-portal">
            <a href="http://www.saopaulo.sp.gov.br/" target="_blank">
                <img src="../Assets/Logo-Sao-Paulo.jpg" alt="Governo do Estado de São Paulo">
            </a>
        </div>
        <nav class="govsp-navbar">
            <a href="https://www.flickr.com/photos/governosp/" target="_blank" title="Flickr"><i
                    class="fa-brands fa-flickr"></i></a>
            <a href="https://www.linkedin.com/company/governosp" target="_blank" title="LinkedIn"><i
                    class="fa-brands fa-linkedin-in"></i></a>
            <a href="https://www.tiktok.com/@governosp" target="_blank" title="TikTok"><i
                    class="fa-brands fa-tiktok"></i></a>
            <a href="https://www.youtube.com/governosp" target="_blank" title="YouTube"><i
                    class="fa-brands fa-youtube"></i></a>
            <a href="https://x.com/governosp" target="_blank" title="X (Twitter)"><i
                    class="fa-brands fa-x-twitter"></i></a>
            <a href="https://www.instagram.com/governosp" target="_blank" title="Instagram"><i
                    class="fa-brands fa-instagram"></i></a>
            <a href="https://www.facebook.com/governosp" target="_blank" title="Facebook"><i
                    class="fa-brands fa-facebook-f"></i></a>


            <p class="govsp-text">/governosp</p>

            <div class="separator"></div>

            <a href="#" title="Aumentar Fonte"><i class="fa-solid fa-text-height"></i></a>
            <a href="#" title="Contraste"><i class="fa-solid fa-circle-half-stroke"></i></a>
            <a href="https://www.sp.gov.br/sp" title="Comunicar Erros"><i
                    class="fa-solid fa-triangle-exclamation"></i></a>
        </nav>
    </section>

    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i> Reserva efetuada com sucesso!
    </div>

    <header id="cps-header">
        <div class="cps-header__container">

            <div class="logo-container">
                <a href="index.html">
                    <img src="../Assets/etec2.png" alt="Logo Etec Júlio de Mesquita" class="logo-etec">
                </a>
                <a href="https://www.cps.sp.gov.br/" target="_blank">
                    <img src="../Assets/etec.png" alt="Logo Centro Paula Souza" class="logo-cps">
                </a>
            </div>
            <form action="#" class="form-pesquisa" method="get" role="search">
                <input id="campo-busca" class="campo-de-busca" name="s" placeholder="O que deseja localizar?"
                    type="search">
                <button class="busca-submit" type="submit"><i class="fas fa-search"></i></button>
            </form>
        </div>
    </header>

    <nav class="main-menu-container" role="navigation">
        <ul class="menu">
            <li><a href="index.html">Home</a></li>

            <li class="dropdown">
                <a>Institucional <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-content">
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/a-escola/conselho-de-escola/">Conselho de
                            escola</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/a-escola/planos/">Planos de curso</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/a-escola/quem-somos/">Quem Somos</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <a href="#">Inst. Auxiliares <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-content">
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/a-escola/apm/">APM</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/a-escola/gremio-estudantil/">Grêmio
                            Estudantil</a></li>
                </ul>
            </li>

            <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/cursos">Cursos</a></li>

            <li class="dropdown">
                <a href="#">Alunos <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-content">
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/acesso-ao-microsoft-teams/">Acesso ao
                            Microsoft Teams</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/alunos/acesso-ao-nsa-sistema-academico/">Acesso
                            ao NSA (Sistema Acadêmico)</a></li>
                    <li><a href="https://bkpsitecpsnew.blob.core.windows.net/uploadsitecps/sites/143/2025/01/Calendario2025.pdf"
                            target="_blank">Calendário Escolar</a></li>
                    <li><a href="https://bkpsitecpsnew.blob.core.windows.net/uploadsitecps/sites/143/2024/09/Cartilha-COPAMS.pdf"
                            target="_blank">Cartilha: Assédio moral, virtual e sexual</a></li>
                    <li><a
                            href="https://etecjuliodemesquita.cps.sp.gov.br/alunos/e-mail-institucional-sysmail-projeto-office-365/">E-mail
                            institucional – Sysmail</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/alunos/estagio/">Estágio e Aprendizagem</a>
                    </li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/alunos/horario-das-aulas/">Horário das
                            aulas</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/passe-escolar/">Passe Escolar</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/alunos/primeiros-passos/">Primeiros
                            Passos</a></li>
                    <li><a href="https://bkpsitecpsnew.blob.core.windows.net/uploadsitecps/sites/143/2024/10/Regimento_Comum_Deliberacao_CEETEPS-85_2022-07-23.pdf"
                            target="_blank">Regimento Comum</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/alunos/secretaria-academica/">Secretaria
                            acadêmica</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/alunos/soe/">SOE</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <a href="#">Professores <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-content">
                    <li><a href="https://bkpsitecpsnew.blob.core.windows.net/uploadsitecps/sites/143/2024/08/copams.pdf"
                            target="_blank">Cartilha: Assédio Moral, Virtual e Sexual</a></li>
                    <li><a href="#">CPS – Cetec Capacitações</a></li>
                    <li><a href="https://www.e-folha.prodesp.sp.gov.br/desc_dempagto/Entrada.asp?cliente=092"
                            target="_blank">E-folha – Prodesp</a></li>
                    <li><a href="https://nsa.cps.sp.gov.br/frmesenha.aspx" target="_blank">Esqueci a senha – NSA</a>
                    </li>
                    <li><a href="https://recad.sp.gov.br/" target="_blank">Recadastramento Anual</a></li>
                    <li><a href="https://onedrive.live.com/?redeem=aHR0cHM6Ly8xZHJ2Lm1zL2IvcyFBa3k4ejZYOS1GWTRnUllDaFhEbzNSM1I4alRk&cid=3856F8FDA5CFBC4C&id=3856F8FDA5CFBC4C%21150&parId=3856F8FDA5CFBC4C%21129&o=OneUp"
                            target="_blank">Regimento Disciplinar</a></li>
                    <li><a href="https://sigurh.cps.sp.gov.br/" target="_blank">SIGURH – CPS</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <a href="#">Biblioteca <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-content">
                    <li><a href="https://biblioteca-laura-dias-de-camargo-etec-julio-de-mesquita.webnode.page/"
                            target="_blank">Nossa Biblioteca</a></li>
                    <li><a href="https://biblio.cps.sp.gov.br/" target="_blank">BiblioCPS</a></li>
                    <li><a href="https://onedrive.live.com/edit.aspx?resid=3856F8FDA5CFBC4C!507&embed=1&redeem=aHR0cHM6Ly8xZHJ2Lm1zL3QvYy8zODU2RjhGREE1Q0ZCQzRDL1VBUk12TS1sX2ZoV0lJQTQtd0VBQUFBQUFGZTdYcGxkbEhqdUlMOA&redeemstatus=true&authkey=!AFe7XpldlHjuIL8"
                            target="_blank">Lista de Gibis</a></li>
                    <li><a href="https://onedrive.live.com/edit.aspx?resid=3856F8FDA5CFBC4C!508&embed=1&redeem=aHR0cHM6Ly8xZHJ2Lm1zL3QvYy8zODU2RjhGREE1Q0ZCQzRDL1VBUk12TS1sX2ZoV0lJQTRfQUVBQUFBQUFHZ2plTVVvZHFqcl9NOA&redeemstatus=true&authkey=!AGgjeMUodqjr_M8"
                            target="_blank">Lista de Mídias</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/pagina-exemplo-2/lista-de-revistas/">Lista de
                            Revistas</a></li>
                    <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/pagina-exemplo-2/orientacoes-tcc/">Orientações
                            para TCC</a></li>
                    <li><a href="https://onedrive.live.com/embed?cid=3856F8FDA5CFBC4C&resid=3856F8FDA5CFBC4C%211231&authkey=AMI0IF64eKLGYCs&em=2"
                            target="_blank">Estatística de uso do acervo da biblioteca</a></li>
                    <li><a href="https://onedrive.live.com/?redeem=aHR0cHM6Ly8xZHJ2Lm1zL2IvcyFBa3k4ejZYOS1GWTRnMnBBN0NyUG95S1dHZF94&cid=3856F8FDA5CFBC4C&id=3856F8FDA5CFBC4C%21490&parId=3856F8FDA5CFBC4C%21485&o=OneUp"
                            target="_blank">Política de Desenvolvimento de Acervo</a></li>
                </ul>
            </li>

            <li><a href="https://etecjuliodemesquita.cps.sp.gov.br/contatos">Contatos</a></li>
            <li><a href="login.html">Agendamentos</a></li>
        </ul>
    </nav>

    <div id="breadcrumb">
        <div class="breadcrumb-container">
            <span><a href="#">Home</a> / <a href="login.html">Agendamentos</a> / <a
                    href="professor.html">Professores</a> / Kits Criados</span>
        </div>
    </div>

    <main class="main-content">
        <h1 class="page-title">Kits Criados</h1>
        <div class="title-underline"></div>

        <div class="kit-manager-container">

            <div class="kit-list-container">
                <div class="kit-item">
                    <button class="kit-btn">Kit 1</button>
                    <div class="kit-actions">
                        <button class="action-btn acessar">Acessar</button>
                        <button class="action-btn renomear">Renomear</button>
                        <button class="action-btn deletar">Deletar</button>
                    </div>
                </div>

                <div class="kit-item">
                    <button class="kit-btn">Kit 2</button>
                    <div class="kit-actions">
                        <button class="action-btn acessar">Acessar</button>
                        <button class="action-btn renomear">Renomear</button>
                        <button class="action-btn deletar">Deletar</button>
                    </div>
                </div>

                <div class="kit-item">
                    <button class="kit-btn">Kit 3</button>
                    <div class="kit-actions">
                        <button class="action-btn acessar">Acessar</button>
                        <button class="action-btn renomear">Renomear</button>
                        <button class="action-btn deletar">Deletar</button>
                    </div>
                </div>

                <div class="kit-item">
                    <button class="kit-btn">Kit 4</button>
                    <div class="kit-actions">
                        <button class="action-btn acessar">Acessar</button>
                        <button class="action-btn renomear">Renomear</button>
                        <button class="action-btn deletar">Deletar</button>
                    </div>
                </div>

                <div class="kit-item">
                    <button class="kit-btn">Kit 5</button>
                    <div class="kit-actions">
                        <button class="action-btn acessar">Acessar</button>
                        <button class="action-btn renomear">Renomear</button>
                        <button class="action-btn deletar">Deletar</button>
                    </div>
                </div>

                <div class="kit-item">
                    <button class="kit-btn">Kit 6</button>
                    <div class="kit-actions">
                        <button class="action-btn acessar">Acessar</button>
                        <button class="action-btn renomear">Renomear</button>
                        <button class="action-btn deletar">Deletar</button>
                    </div>
                </div>
            </div>

            <div class="vertical-separator"></div>
            <div class="kit-main-view"></div>

            <button id="history-btn" class="floating-btn" title="Histórico">
                <i class="fa-solid fa-clock-rotate-left"></i>
            </button>
        </div>
    </main>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const kitItems = document.querySelectorAll('.kit-item');
        const mainView = document.querySelector('.kit-main-view');
        const historyBtn = document.getElementById('history-btn');

        mainView.innerHTML = '<p class="placeholder">Aguardando seleção de kit...</p>';

        // Seleção e ações básicas
        kitItems.forEach((item, index) => {
            const kitButton = item.querySelector('.kit-btn');
            const renameButton = item.querySelector('.renomear');
            const deleteButton = item.querySelector('.deletar');
            const accessButton = item.querySelector('.acessar');

            kitButton.addEventListener('click', function () {
                kitItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            });

            accessButton.addEventListener('click', function (event) {
                event.stopPropagation();
                const nomeKit = kitButton.textContent.trim();
                mainView.innerHTML = `<p> Exibindo informações de <strong>${nomeKit}</strong></p>`;
                showMessage(`Kit "${nomeKit}" acessado.`, true);
            });

            deleteButton.addEventListener('click', function (event) {
                event.stopPropagation();
                openPopupConfirm({
                    message: "Deseja realmente limpar os dados do kit?",
                    onConfirm: () => {
                        const kitNum = index + 1;
                        kitButton.textContent = `Kit ${kitNum}`;
                        mainView.innerHTML = '<p class="placeholder">Aguardando seleção de kit...</p>';
                        showMessage("Kit redefinido com sucesso!", true);
                    },
                    onCancel: () => {
                        showMessage("Ação cancelada.", false);
                    }
                });
            });

            renameButton.addEventListener('click', function (event) {
                event.stopPropagation();
                openPopupRename({
                    currentName: kitButton.textContent,
                    onConfirm: (novoNome) => {
                        if (novoNome && novoNome.trim() !== "") {
                            kitButton.textContent = novoNome.trim();
                            showMessage("Kit renomeado com sucesso!", true);
                        } else {
                            showMessage("Nome inválido. Nenhuma alteração feita.", false);
                        }
                    }
                });
            });
        });

        // === Botão de Histórico ===
        historyBtn.addEventListener('click', () => {
            openHistoryPopup();
        });

        // Funções de Pop-ups reutilizáveis
        function openPopupConfirm({ message, onConfirm, onCancel }) {
            const overlay = document.createElement('div');
            overlay.classList.add('popup-overlay');
            overlay.innerHTML = `
                <div class="popup">
                    <h3>${message}</h3>
                    <button id="confirmar">Confirmar</button>
                    <button id="cancelar">Cancelar</button>
                </div>
            `;
            document.body.appendChild(overlay);
            overlay.style.display = 'flex';

            overlay.querySelector('#confirmar').addEventListener('click', () => {
                overlay.remove();
                onConfirm();
            });

            overlay.querySelector('#cancelar').addEventListener('click', () => {
                overlay.remove();
                onCancel();
            });
        }

        function openPopupRename({ currentName, onConfirm }) {
            const overlay = document.createElement('div');
            overlay.classList.add('popup-overlay');
            overlay.innerHTML = `
                <div class="popup">
                    <h3>Renomear Kit</h3>
                    <input type="text" id="novoNome" value="${currentName}">
                    <div>
                        <button id="confirmar">Confirmar</button>
                        <button id="cancelar">Cancelar</button>
                    </div>
                </div>
            `;
            document.body.appendChild(overlay);
            overlay.style.display = 'flex';
            const input = overlay.querySelector('#novoNome');
            input.focus();

            overlay.querySelector('#confirmar').addEventListener('click', () => {
                const novoNome = input.value;
                overlay.remove();
                onConfirm(novoNome);
            });

            overlay.querySelector('#cancelar').addEventListener('click', () => {
                overlay.remove();
                showMessage("Ação cancelada.", false);
            });
        }

        // Localize a função openHistoryPopup() e substitua por:
function openHistoryPopup() {
    const overlay = document.createElement('div');
    overlay.classList.add('popup-overlay');
    // REMOVIDO o botão de fechar com a classe 'popup-close'
    overlay.innerHTML = `
        <div class="popup large">
            <h3>Último pedido</h3>
            <div class="materials-list">
                <ul>
                    <li>Cabo Vinicius Tipo A</li>
                    <li>Placa do Uno</li>
                    <li>Cabo Vinicius Tipo B</li>
                    <li>Cabo Vinicius Tipo C</li>
                    <li>Cabo Vinicius Tipo D</li>
                    <li>Cabo Vinicius Tipo gay</li>
                    <li>Cabo Vinicius Tipo gay</li>
                    <li>Cabo Vinicius Tipo gay</li>
                    <li>Cabo Vinicius Tipo gay</li>
                    <li>Cabo Vinicius Tipo gay</li>
                    <li>Cabo Vinicius Tipo gay</li>
                
                </ul>
            </div>
            <div> 
                <button id="salvarComo">Salvar como</button>
                <button id="voltar">Voltar</button> 
            </div>
        </div>
    `;

    overlay.querySelector('#voltar').addEventListener('click', () => overlay.remove());
    document.body.appendChild(overlay);
    overlay.style.display = 'flex';
    overlay.querySelector('#salvarComo').addEventListener('click', () => {
    overlay.remove();

        openSalvarComoPopup();
    });
}

        function openSalvarComoPopup() {
            const overlay = document.createElement('div');
            overlay.classList.add('popup-overlay');
            overlay.innerHTML = `
                <div class="popup">
                    <h3>Salvar conteúdo em:</h3>
                    <div id="kitOptions">
                        ${Array.from({ length: 6 }, (_, i) => `<button class="kitOption">Kit ${i + 1}</button>`).join('')}
                    </div>
                </div>
            `;
            document.body.appendChild(overlay);
            overlay.style.display = 'flex';

            overlay.querySelectorAll('.kitOption').forEach(btn => {
                btn.addEventListener('click', () => {
                    const nomeKit = btn.textContent;
                    overlay.remove();
                    openPopupConfirm({
                        message: `Deseja substituir o conteúdo de ${nomeKit}?`,
                        onConfirm: () => {
                            overlay.remove();
                            openPopupRename({
                                currentName: nomeKit,
                                onConfirm: (novoNome) => {
                                    showMessage(`Conteúdo salvo em "${novoNome}"!`, true);
                                }
                            });
                        },
                        onCancel: () => {
                            showMessage("Ação cancelada.", false);
                        }
                    });
                });
            });
        }

        // Mensagem flutuante
        function showMessage(text, success) {
            const msg = document.createElement('div');
            msg.classList.add('popup-message');
            msg.textContent = text;
            msg.style.backgroundColor = success ? '#d4edda' : '#f8d7da';
            msg.style.color = success ? '#155724' : '#721c24';
            document.body.appendChild(msg);
            msg.style.display = 'block';
            setTimeout(() => {
                msg.remove();
            }, 2500);
        }
    });


    window.addEventListener('DOMContentLoaded', () => { 
        const params = new URLSearchParams(window.location.search);
        if (params.get('reserva') === 'sucesso') {
            const notification = document.getElementById('notification');
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000); 
        }
    });

    </script>

        <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>

<script>

    window.onload = function() {
        if (window.VLibras) {
            new window.VLibras.Widget('https://vlibras.gov.br/app');
        } else {
            console.error('Erro: Objeto VLibras não encontrado. O script não foi carregado corretamente.');
        }
    };
    
</script>
</body>
</html>